<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-2 sidebar p-3" >
            <button class="btn btn-primary w-100 mb-2" (click)="onCategoryChange(0)">All</button>
            <button class="btn btn-light w-100 mb-2" *ngFor="let field of categoryList" (click)="onCategoryChange(field.id)">{{field.name}}</button>
        </div>
        <div class="col-md-6">
            <input type="text" class="form-control mb-3" placeholder="Search All">
            <div class="row g-3">
                <div *ngIf="productList.length > 0; else noData">
                    <div class="row g-3">
                      <div class="col-md-4" *ngFor="let field of productList" (click)="onProductSelect(field)">
                        <div class="product card" style="height: 150px; overflow-y: auto;">
                          <div class="card-body text-center">
                            <img class="imageSet" [src]="field.imageUrl" alt="Product Image">
                            
                            <div class="title">{{ field.name }}</div>
                            <div class="availableqty">Available: <b>{{field.avaiableQty}} {{field.unitName}}</b></div>
                            <div class="price">TK. <b>{{ field.sellRate }}</b></div>
                            <div class="disprice">Discount Amt. <b>{{ field.sellDiscount }}</b></div>
                            <div class="totprice">Total Amt. <b>{{ field.actualSellRate }}</b></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- No Data Template -->
                  <ng-template #noData>
                    <div class="text-center p-5">
                      <img src="../../../../assets/images/maintenance/noDataFound.jpg" alt="No Data" style="max-width: 200px;">
                      <h5 class="mt-3">No Products Available</h5>
                      <p>Please check back later or try a different category.</p>
                    </div>
                  </ng-template>
                  
            </div>
        </div>
        <div class="col-md-4">
            <div class="cart p-2 border rounded">
                <h5>Cart</h5>
                <ul class="list-group mb-3" >
                    @for (item of selectedProductList; track $index) {
                        <li class="list-group-item" >
                            <div class="row align-items-center">
    
                                
                                <!-- Product Name with Bootstrap Tooltip -->
                                <div class="col-4 text-truncate" title="Kids' Sports Shoes">
                                    <strong>{{item.productName}}</strong>
                                    
                                    <div class="small text-muted">Code: {{item.productCode}}</div>
                                </div>
                                <!-- Qty -->
                                <div class="col-2 text-center">{{item.qty}}</div>
                                <!-- Buttons -->
                                <div class="col-4 d-flex justify-content-between">
                                    <button class="btn btn-sm btn-outline-primary" (click)="updateQty(item,'add')"><i class="fa fa-plus"></i></button>
                                    <button class="btn btn-sm btn-outline-secondary" (click)="updateQty(item,'minus')"><i class="fa fa-minus"></i></button>
                                    <button class="btn btn-sm btn-outline-danger" (click)="onDeleteProdcut(item.purchaseDetailsId)"><i class="fa fa-trash"></i></button>
                                </div>
                                <!-- Price -->
                                <div class="col-2 text-end">৳{{item.totalPrice}}</div>
                            </div>
                        </li>
                    }
                       
                    
                </ul>
                
                <h6>SubTotal: ৳{{productAmount}}</h6>
                <button class="btn btn-primary w-100">Charge</button>
            </div>
        </div>
        
    </div>
</div>

